# 坎巴拉瘦身计划 - 拯救磁盘空间

## 前言

当你在KSP里安装各种MOD~~开启新世界的大门后~~，很快就会发现——  
这游戏怎么占了这么大空间？  
我的小SSD怎么办？  
要不要删掉什么东西？  

且慢！请见下文分解。

## 占用了多少空间

> 1.4.3版原版游戏+DLC  
  ![image](https://github.com/Duck1998/Duck1998.github.io/raw/master/Assets/%E5%9D%8E%E5%B7%B4%E6%8B%89%E5%8E%8B%E7%BC%A9%E8%AE%A1%E5%88%92/01.PNG)

> 装了些美化MOD  
  ![image](https://github.com/Duck1998/Duck1998.github.io/raw/master/Assets/%E5%9D%8E%E5%B7%B4%E6%8B%89%E5%8E%8B%E7%BC%A9%E8%AE%A1%E5%88%92/02.PNG)

> 装了更多MOD  
  ![image](https://github.com/Duck1998/Duck1998.github.io/raw/master/Assets/%E5%9D%8E%E5%B7%B4%E6%8B%89%E5%8E%8B%E7%BC%A9%E8%AE%A1%E5%88%92/03.PNG)

> 还要搞不同的组合（2份游戏）  
  ![image](https://github.com/Duck1998/Duck1998.github.io/raw/master/Assets/%E5%9D%8E%E5%B7%B4%E6%8B%89%E5%8E%8B%E7%BC%A9%E8%AE%A1%E5%88%92/04.PNG)

## 空间都去哪了

![image](https://github.com/Duck1998/Duck1998.github.io/raw/master/Assets/%E5%9D%8E%E5%B7%B4%E6%8B%89%E5%8E%8B%E7%BC%A9%E8%AE%A1%E5%88%92/05.PNG)

这三个文件夹占据了绝大部分空间：

- **GameData**  
  顾名思义——游戏数据，同时也是MOD安装的地方，可以理解为游戏的外部数据  
  加上DLC约890MB

- **KSP_Data**  
  32位版程序的数据，可以理解为游戏的内部数据  
  约1.55GB

- **KSP_x64_Data**  
  64位版程序的数据，可以理解为游戏的内部数据  
  约1.57GB

## 如何拯救磁盘空间

### 方法1：删除无用文件

> 使用Steam启动游戏则请跳过此方法，除非你已经[回滚版本或停止更新](https://github.com/Duck1998/Duck1998.github.io/issues/5)

如果你使用64位客户端，则至少需要**保留**以下文件夹  
32位客户端则保留对应32位的*KSP_Data*、*KSP.exe*和*buildID.txt*  
**约释放1.6GB空间**  
![image](https://github.com/Duck1998/Duck1998.github.io/raw/master/Assets/%E5%9D%8E%E5%B7%B4%E6%8B%89%E5%8E%8B%E7%BC%A9%E8%AE%A1%E5%88%92/06.PNG)

### 方法2：压缩

这里所指的压缩并非平常接触的存档性质的压缩，而是由文件系统底层进行的压缩  
文件以压缩的形式存储，在读取时被实时解压，对于操作系统而言并没有变化  
与常见的zip、rar、7z不同，这里所使用的算法为低CPU负载优化，使用时几乎感觉不到差异  
对于KSP而言，游戏在启动时就已经加载了全部数据，因此非常适合压缩

#### Win10系统

> 非Win10系统请看下文



#### 非Win10系统

虽然CompactGUI所调用的compact命令是Windows 10独有的功能，但NTFS磁盘压缩功能在Windows XP时就已经加入  


1. 找到KSP的安装目录，打开文件夹属性-高级-勾选*压缩内容以便节省磁盘空间*  
   ![image]()
2. 确认属性更改时选择*将更改应用于此文件夹、子文件夹和文件*  
   ![image]()
3. 等待压缩完成，文件和文件夹的图标右上增加了压缩标志

**由4.08GB压缩至2.33GB，压缩率57.1%**  
![image]()

#### 总结

体积对比  
![image]()

#### 性能变化

blahblahblah  

启动时间对比  
![image]()

### 方法3：复用



### 方法4：存储

如果你需要备份特定版本，此时效率最高的方法便是使用压缩软件  
例如使用7z格式的*LZMA2*算法，*最大压缩*预设，压缩1.4.3版原版游戏加DLC时：  
**由4.08GB压缩至1.27GB，压缩率31.1%**  
![image]()

### 方法5：？

![image]()
